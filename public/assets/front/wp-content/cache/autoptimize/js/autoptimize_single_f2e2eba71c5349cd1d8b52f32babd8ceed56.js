function moveSatellites(whichDot,whichLine,x1,cx,y1,cy,dur){var action=gsap.timeline().to(whichLine,{attr:{x1:x1},duration:dur,ease:'none'}).to(whichDot,{attr:{cx:cx},duration:dur,ease:'none'},0).to(whichLine,{attr:{y1:y1},duration:dur,ease:'power2.out'},0).to(whichDot,{attr:{cy:cy},duration:dur,ease:'power2.out'},0)
return action;};function moveCenter(whichDot,whichLineA,whichLineB,x2A,cx,y2A,cy,dur){var action=gsap.timeline().to(whichLineA,{attr:{x2:x2A},duration:dur,ease:'none'}).to(whichLineA,{attr:{x2:x2A},duration:dur,ease:'none'},0).to(whichLineB,{attr:{x2:x2A},duration:dur,ease:'none'},0).to(whichLineB,{attr:{x2:x2A},duration:dur,ease:'none'},0).to(whichDot,{attr:{cx:cx},duration:dur,ease:'none'},0).to(whichLineA,{attr:{y2:y2A},duration:dur,ease:'power2.out'},0).to(whichLineA,{attr:{y2:y2A},duration:dur,ease:'power2.out'},0).to(whichLineB,{attr:{y2:y2A},duration:dur,ease:'power2.out'},0).to(whichLineB,{attr:{y2:y2A},duration:dur,ease:'power2.out'},0).to(whichDot,{attr:{cy:cy},duration:dur,ease:'power2.out'},0)
return action;};jQuery(document).ready(function($){var scroller_h=$(".inst-hero-scroll .inner").height();$(".inst-hero-scroll").css("height",scroller_h);TweenMax.set($(".inst-hero-scroll > div > div:first-child > div"),{autoAlpha:0,x:-$(window).width()});TweenMax.set($(".inst-hero-scroll > div > div:last-child > div"),{autoAlpha:0,x:$(window).width()});TweenMax.set($(".inst-hero-scroll .inner"),{height:0});var scrollHeight=$(".inst-scroller")[0].scrollHeight-$(".inst-scroller").outerHeight();$(".inst-scroller").scroll(function(){if($(this).scrollTop()>scrollHeight/3){var tl=new TimelineMax();tl.to($(".inst-hero-scroll .inner"),0.25,{height:scroller_h});tl.to($(".inst-hero-scroll > div > div:first-child > div"),0.5,{autoAlpha:1,x:0});tl.to($(".inst-hero-scroll > div > div:last-child > div"),0.5,{autoAlpha:1,x:0,onComplete:function(){$(".inst-hero-scroll .inner").css("overflow","visible");$(".inst-hero-scroll > div > div").css("overflow","visible");}},"-=0.5");}});var mX,mY,left_distance,right_distance,$element=$('#bubbles-left');var action=false;$(document).mousemove(function(e){mX=e.pageX;mY=e.pageY;left_distance=calculateDistance($('#bubbles-left'),mX,mY);right_distance=calculateDistance($('#bubbles-right'),mX,mY);if(left_distance<200){moveCenter(dot03,line01,line02,320,320,210,210,1);moveSatellites(dot01,line01,220,220,50,50,1);moveSatellites(dot02,line02,100,100,230,230,1);gsap.to($("#dot04"),1,{attr:{cx:60,cy:60}});gsap.to($("#dot05"),1,{attr:{cx:300,cy:290}});}else{moveCenter(dot03,line01,line02,300,300,200,200,1);moveSatellites(dot01,line01,200,200,20,20,1);moveSatellites(dot02,line02,50,50,250,250,1);gsap.to($("#dot04"),1,{attr:{cx:50,cy:50}});gsap.to($("#dot05"),1,{attr:{cx:300,cy:300}});}
if(right_distance<300){moveCenter(r_dot03,r_line01,r_line02,80,80,200,200,1);moveSatellites(r_dot01,r_line01,280,280,70,70,1);moveSatellites(r_dot02,r_line02,330,330,230,230,1);gsap.to($("#r_dot04"),1,{attr:{cx:430,cy:70}});gsap.to($("#r_dot05"),1,{attr:{cx:140,cy:30}});}else{moveCenter(r_dot03,r_line01,r_line02,100,100,200,200,1);moveSatellites(r_dot01,r_line01,300,300,50,50,1);moveSatellites(r_dot02,r_line02,350,350,250,250,1);gsap.to($("#r_dot04"),1,{attr:{cx:450,cy:50}});gsap.to($("#r_dot05"),1,{attr:{cx:150,cy:0}});}});function calculateDistance(elem,mouseX,mouseY){return Math.floor(Math.sqrt(Math.pow(mouseX-(elem.offset().left+(elem.width()/2)),2)+Math.pow(mouseY-(elem.offset().top+(elem.height()/2)),2)));}
var lottie1=document.getElementById("p1");$(".image-slider div:nth-child(1) img").hover(function(){TweenMax.to($(this),0.5,{scale:1.2,onComplete:function(){lottie1.setDirection(1);lottie1.play();}});},function(){lottie1.setDirection(-1);lottie1.play();lottie1.addEventListener('complete',()=>{TweenMax.to($(this),0.5,{scale:1});});});var lottie2=document.getElementById("p2");$(".image-slider div:nth-child(2) img").hover(function(){TweenMax.to($(this),0.5,{scale:1.2,onComplete:function(){lottie2.setDirection(1);lottie2.play();}});},function(){lottie2.setDirection(-1);lottie2.play();lottie2.addEventListener('complete',()=>{TweenMax.to($(this),0.5,{scale:1});});});var lottie3=document.getElementById("p3");$(".image-slider div:nth-child(3) img").hover(function(){TweenMax.to($(this),0.5,{scale:1.2,onComplete:function(){lottie3.setDirection(1);lottie3.play();}});},function(){lottie3.setDirection(-1);lottie3.play();lottie3.addEventListener('complete',()=>{TweenMax.to($(this),0.5,{scale:1});});});});