var $=jQuery;$(document).ready(function(){var activeElementID=$('.premium-partner-filter-item.active').attr('id');$('.pg2-partner').removeClass('active').addClass('hidden');$('.pg2-partner.'+activeElementID).addClass('active');$('.country-wrapper').removeClass('active').addClass('hidden');$('.country-wrapper.'+activeElementID).addClass('active').removeClass('hidden');var premiumArchCurrentUrl=window.location.href;var destinationParam=getParameterByName('destination',premiumArchCurrentUrl);var utmSource=getParameterByName('utm_source',premiumArchCurrentUrl);var utmMedium=getParameterByName('utm_medium',premiumArchCurrentUrl);var utmCampaign=getParameterByName('utm_campaign',premiumArchCurrentUrl);var utmContent=getParameterByName('utm_content',premiumArchCurrentUrl);if(destinationParam){destFilter(destinationParam);}
if((utmSource&&utmMedium&&utmCampaign)||utmContent){$('.premium-partner-link').each(function(){var $link=$(this);var linkHref=$link.attr('href');var separator=linkHref.indexOf('?')===-1?'?':'&';$link.attr('href',linkHref+separator+'utm_source='+utmSource+'&utm_medium='+utmMedium+'&utm_campaign='+utmCampaign+'&utm_content='+utmContent);});}
function getParameterByName(name,url){name=name.replace(/[\[\]]/g,'\\$&');var regex=new RegExp('[?&]'+name+'(=([^&#]*)|&|#|$)');var results=regex.exec(url);if(!results)return null;if(!results[2])return'';return decodeURIComponent(results[2].replace(/\+/g,' '));}
function isPremiumPartnersPage(){return window.location.href.includes('/premium-partners');}
function hasDestinationParameter(){const currentURL=new URL(window.location.href);return currentURL.searchParams.has('destination');}
function addDestinationParameter(){const currentURL=new URL(window.location.href);currentURL.searchParams.set('destination','australia');history.replaceState({},'',currentURL);}
window.addEventListener('load',function(){if(isPremiumPartnersPage()){if(!hasDestinationParameter()){addDestinationParameter();}}});});$('.pg1-cards').slick({dots:true,arrows:true,infinite:true,speed:300,slidesToShow:1,slidesToScroll:1,autoplay:true,autoplaySpeed:5000,speed:500});$('.country-wrapper').slick({dots:true,arrows:true,infinite:false,speed:300,slidesToShow:1,slidesToScroll:1,centreMode:false,speed:500});$('.mobile-country-wrapper').slick({dots:true,arrows:true,infinite:false,speed:300,slidesToShow:1,slidesToScroll:1,centreMode:false,speed:500});$('.country-wrapper').on('beforeChange',function(event,slick,currentSlide,nextSlide){$('.slick-slider').removeAttr("style");});$(".active").show();$(".hidden").hide();function destFilter(destCountry){$(".active").addClass('hidden');$(".hidden").removeClass('active');$("#"+destCountry).addClass('active');$("."+destCountry).addClass('active');$("#"+destCountry).removeClass('hidden');$("."+destCountry).removeClass('hidden');$(".country-wrapper").removeAttr("style");updateURL(destCountry);}
function updateURL(destinationValue){const currentURL=new URL(window.location.href);const searchParams=currentURL.searchParams;const utmSource=searchParams.get('utm_source');const utmMedium=searchParams.get('utm_medium');const utmCampaign=searchParams.get('utm_campaign');const utmContent=searchParams.get('utm_content');const newSearchParams=new URLSearchParams();newSearchParams.append('destination',destinationValue);if((utmSource&&utmMedium&&utmCampaign)||utmContent){newSearchParams.append('utm_source',utmSource);newSearchParams.append('utm_medium',utmMedium);newSearchParams.append('utm_campaign',utmCampaign);newSearchParams.append('utm_content',utmContent);}
history.pushState({},'',`${currentURL.origin}${currentURL.pathname}?${newSearchParams}`);}